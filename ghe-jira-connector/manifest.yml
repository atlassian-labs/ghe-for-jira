modules:
  jira:adminPage:
    - key: ghe-jira-connector-jira-admin-page
      resource: admin-page
      resolver:
        function: admin-page-resolver
      title: GitHub Enterprise configuration
      icon: https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png
  webtrigger:
    - key: push-webhook-receiver
      function: push-webhook-function
    - key: pr-webhook-receiver
      function: pr-webhook-function
    - key: branch-webhook-receiver
      function: branch-webhook-function
  devops:developmentInfoProvider:
    - key: ghe-for-jira
      homeUrl: https://github.internal.atlassian.com
      name:
        value: GitHub Enterprise
  function:
    - key: push-webhook-function
      handler: index.processPushWebhook
    - key: pr-webhook-function
      handler: index.processPullrequestWebhook
    - key: branch-webhook-function
      handler: index.processBranchWebhook
    - key: admin-page-resolver
      handler: resolver.handler
app:
  id: ari:cloud:ecosystem::app/3d4b6d04-c521-4431-b54b-05215b621c89
  # name: ghe-forge-app
  runtime:
    snapshots: false
resources:
  - key: admin-page
    path: client/dist
    tunnel:
      port: 8080
permissions:
  scopes:
    - storage:app
    - manage:jira-data-provider
  content:
    styles:
      - 'unsafe-inline'
